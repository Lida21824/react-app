{"ast":null,"code":"var _jsxFileName = \"/Users/taulan/Documents/react-app/src/pages/Checkout.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Container, Paper, Typography, TextField, Button, Box, Grid } from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { ordersAPI } from '../services/api';\nimport { clearCart } from '../redux/cartSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const cartItems = useSelector(state => state.cart.items);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [shippingData, setShippingData] = useState({\n    address: '',\n    phone: '',\n    comment: ''\n  });\n  const totalAmount = cartItems.reduce((sum, item) => sum + item.price, 0);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const orderData = {\n        items: cartItems.map(item => ({\n          product: item.id,\n          quantity: 1,\n          price: item.price\n        })),\n        totalAmount,\n        shippingAddress: shippingData.address\n      };\n      await ordersAPI.create(orderData);\n      dispatch(clearCart());\n      navigate('/orders');\n    } catch (error) {\n      console.error('Error creating order:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3,\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u0410\\u0434\\u0440\\u0435\\u0441\",\n              margin: \"normal\",\n              required: true,\n              value: shippingData.address,\n              onChange: e => setShippingData({\n                ...shippingData,\n                address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\",\n              margin: \"normal\",\n              required: true,\n              value: shippingData.phone,\n              onChange: e => setShippingData({\n                ...shippingData,\n                phone: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439 \\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u0443\",\n              margin: \"normal\",\n              multiline: true,\n              rows: 3,\n              value: shippingData.comment,\n              onChange: e => setShippingData({\n                ...shippingData,\n                comment: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              fullWidth: true,\n              size: \"large\",\n              sx: {\n                mt: 3\n              },\n              children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"\\u0412\\u0430\\u0448 \\u0437\\u0430\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), cartItems.map(item => /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              mb: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [item.price, \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 2,\n              pt: 2,\n              borderTop: 1,\n              borderColor: 'divider'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: [\"\\u0418\\u0442\\u043E\\u0433\\u043E: \", totalAmount, \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"c0RrmD104XT3BuSLwMe8oizLg5E=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useState","Container","Paper","Typography","TextField","Button","Box","Grid","useSelector","useDispatch","useNavigate","ordersAPI","clearCart","jsxDEV","_jsxDEV","Checkout","_s","cartItems","state","cart","items","dispatch","navigate","shippingData","setShippingData","address","phone","comment","totalAmount","reduce","sum","item","price","handleSubmit","e","preventDefault","orderData","map","product","id","quantity","shippingAddress","create","error","console","maxWidth","sx","py","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","xs","md","p","mb","component","onSubmit","fullWidth","label","margin","required","value","onChange","target","multiline","rows","type","size","mt","display","justifyContent","name","pt","borderTop","borderColor","_c","$RefreshReg$"],"sources":["/Users/taulan/Documents/react-app/src/pages/Checkout.js"],"sourcesContent":["import { useState } from 'react';\nimport { Container, Paper, Typography, TextField, Button, Box, Grid } from '@mui/material';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { ordersAPI } from '../services/api';\nimport { clearCart } from '../redux/cartSlice';\n\nconst Checkout = () => {\n  const cartItems = useSelector(state => state.cart.items);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [shippingData, setShippingData] = useState({\n    address: '',\n    phone: '',\n    comment: '',\n  });\n\n  const totalAmount = cartItems.reduce((sum, item) => sum + item.price, 0);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const orderData = {\n        items: cartItems.map(item => ({\n          product: item.id,\n          quantity: 1,\n          price: item.price\n        })),\n        totalAmount,\n        shippingAddress: shippingData.address,\n      };\n\n      await ordersAPI.create(orderData);\n      dispatch(clearCart());\n      navigate('/orders');\n    } catch (error) {\n      console.error('Error creating order:', error);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Typography variant=\"h4\" gutterBottom>\n        Оформление заказа\n      </Typography>\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={8}>\n          <Paper sx={{ p: 3, mb: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Адрес доставки\n            </Typography>\n            <Box component=\"form\" onSubmit={handleSubmit}>\n              <TextField\n                fullWidth\n                label=\"Адрес\"\n                margin=\"normal\"\n                required\n                value={shippingData.address}\n                onChange={(e) => setShippingData({ ...shippingData, address: e.target.value })}\n              />\n              <TextField\n                fullWidth\n                label=\"Телефон\"\n                margin=\"normal\"\n                required\n                value={shippingData.phone}\n                onChange={(e) => setShippingData({ ...shippingData, phone: e.target.value })}\n              />\n              <TextField\n                fullWidth\n                label=\"Комментарий к заказу\"\n                margin=\"normal\"\n                multiline\n                rows={3}\n                value={shippingData.comment}\n                onChange={(e) => setShippingData({ ...shippingData, comment: e.target.value })}\n              />\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                fullWidth\n                size=\"large\"\n                sx={{ mt: 3 }}\n              >\n                Подтвердить заказ\n              </Button>\n            </Box>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} md={4}>\n          <Paper sx={{ p: 3 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Ваш заказ\n            </Typography>\n            {cartItems.map((item) => (\n              <Box key={item.id} sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n                <Typography>{item.name}</Typography>\n                <Typography>{item.price} ₽</Typography>\n              </Box>\n            ))}\n            <Box sx={{ mt: 2, pt: 2, borderTop: 1, borderColor: 'divider' }}>\n              <Typography variant=\"h6\">\n                Итого: {totalAmount} ₽\n              </Typography>\n            </Box>\n          </Paper>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default Checkout; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}