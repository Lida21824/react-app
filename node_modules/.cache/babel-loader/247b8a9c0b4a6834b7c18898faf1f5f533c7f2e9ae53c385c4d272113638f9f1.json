{"ast":null,"code":"var _jsxFileName = \"/Users/taulan/Documents/react-app/src/pages/Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box, Alert } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { setCredentials } from '../redux/authSlice';\nimport { authAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    if (formData.password !== formData.confirmPassword) {\n      setError('Пароли не совпадают');\n      return;\n    }\n    try {\n      setLoading(true);\n      const response = await authAPI.register({\n        name: formData.name,\n        email: formData.email,\n        password: formData.password\n      });\n      dispatch(setCredentials({\n        user: response.data.user,\n        token: response.data.token\n      }));\n\n      // Сохраняем токен в localStorage\n      localStorage.setItem('token', response.data.token);\n      navigate('/');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Ошибка при регистрации');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"\\u0418\\u043C\\u044F\",\n          margin: \"normal\",\n          required: true,\n          value: formData.name,\n          onChange: e => setFormData({\n            ...formData,\n            name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Email\",\n          type: \"email\",\n          margin: \"normal\",\n          required: true,\n          value: formData.email,\n          onChange: e => setFormData({\n            ...formData,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          type: \"password\",\n          margin: \"normal\",\n          required: true,\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          type: \"password\",\n          margin: \"normal\",\n          required: true,\n          value: formData.confirmPassword,\n          onChange: e => setFormData({\n            ...formData,\n            confirmPassword: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"text\",\n          onClick: () => navigate('/login'),\n          children: \"\\u0423\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442? \\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Register, \"DFwvL3Uh5Xmmkl0+L0KQVcK0LBw=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","Container","Paper","TextField","Button","Typography","Box","Alert","useNavigate","useDispatch","setCredentials","authAPI","jsxDEV","_jsxDEV","Register","_s","formData","setFormData","name","email","password","confirmPassword","error","setError","loading","setLoading","navigate","dispatch","handleSubmit","e","preventDefault","response","register","user","data","token","localStorage","setItem","err","_err$response","_err$response$data","message","maxWidth","children","elevation","sx","p","mt","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","severity","mb","onSubmit","fullWidth","label","margin","required","value","onChange","target","type","onClick","_c","$RefreshReg$"],"sources":["/Users/taulan/Documents/react-app/src/pages/Register.js"],"sourcesContent":["import { useState } from 'react';\nimport { Container, Paper, TextField, Button, Typography, Box, Alert } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { setCredentials } from '../redux/authSlice';\nimport { authAPI } from '../services/api';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  \n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Пароли не совпадают');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await authAPI.register({\n        name: formData.name,\n        email: formData.email,\n        password: formData.password,\n      });\n\n      dispatch(setCredentials({\n        user: response.data.user,\n        token: response.data.token,\n      }));\n\n      // Сохраняем токен в localStorage\n      localStorage.setItem('token', response.data.token);\n      \n      navigate('/');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Ошибка при регистрации');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper elevation={3} sx={{ p: 4, mt: 4 }}>\n        <Typography variant=\"h5\" component=\"h1\" gutterBottom>\n          Регистрация\n        </Typography>\n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 2 }}>\n          <TextField\n            fullWidth\n            label=\"Имя\"\n            margin=\"normal\"\n            required\n            value={formData.name}\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          />\n          <TextField\n            fullWidth\n            label=\"Email\"\n            type=\"email\"\n            margin=\"normal\"\n            required\n            value={formData.email}\n            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n          />\n          <TextField\n            fullWidth\n            label=\"Пароль\"\n            type=\"password\"\n            margin=\"normal\"\n            required\n            value={formData.password}\n            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n          />\n          <TextField\n            fullWidth\n            label=\"Подтвердите пароль\"\n            type=\"password\"\n            margin=\"normal\"\n            required\n            value={formData.confirmPassword}\n            onChange={(e) => setFormData({ ...formData, confirmPassword: e.target.value })}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            sx={{ mt: 3, mb: 2 }}\n          >\n            Зарегистрироваться\n          </Button>\n          <Button\n            fullWidth\n            variant=\"text\"\n            onClick={() => navigate('/login')}\n          >\n            Уже есть аккаунт? Войти\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Register; "],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,SAAS,EAAEC,KAAK,EAAEC,SAAS,EAAEC,MAAM,EAAEC,UAAU,EAAEC,GAAG,EAAEC,KAAK,QAAQ,eAAe;AAC3F,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,cAAc,QAAQ,oBAAoB;AACnD,SAASC,OAAO,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC;IACvCkB,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE;EACnB,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAM0B,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAMmB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAE9B,MAAMmB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBP,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAIP,QAAQ,CAACI,QAAQ,KAAKJ,QAAQ,CAACK,eAAe,EAAE;MAClDE,QAAQ,CAAC,qBAAqB,CAAC;MAC/B;IACF;IAEA,IAAI;MACFE,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMM,QAAQ,GAAG,MAAMpB,OAAO,CAACqB,QAAQ,CAAC;QACtCd,IAAI,EAAEF,QAAQ,CAACE,IAAI;QACnBC,KAAK,EAAEH,QAAQ,CAACG,KAAK;QACrBC,QAAQ,EAAEJ,QAAQ,CAACI;MACrB,CAAC,CAAC;MAEFO,QAAQ,CAACjB,cAAc,CAAC;QACtBuB,IAAI,EAAEF,QAAQ,CAACG,IAAI,CAACD,IAAI;QACxBE,KAAK,EAAEJ,QAAQ,CAACG,IAAI,CAACC;MACvB,CAAC,CAAC,CAAC;;MAEH;MACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEN,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;MAElDT,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOY,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZjB,QAAQ,CAAC,EAAAgB,aAAA,GAAAD,GAAG,CAACP,QAAQ,cAAAQ,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcL,IAAI,cAAAM,kBAAA,uBAAlBA,kBAAA,CAAoBC,OAAO,KAAI,wBAAwB,CAAC;IACnE,CAAC,SAAS;MACRhB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEZ,OAAA,CAACZ,SAAS;IAACyC,QAAQ,EAAC,IAAI;IAAAC,QAAA,eACtB9B,OAAA,CAACX,KAAK;MAAC0C,SAAS,EAAE,CAAE;MAACC,EAAE,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,gBACvC9B,OAAA,CAACR,UAAU;QAAC2C,OAAO,EAAC,IAAI;QAACC,SAAS,EAAC,IAAI;QAACC,YAAY;QAAAP,QAAA,EAAC;MAErD;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,EACZhC,KAAK,iBACJT,OAAA,CAACN,KAAK;QAACgD,QAAQ,EAAC,OAAO;QAACV,EAAE,EAAE;UAAEW,EAAE,EAAE;QAAE,CAAE;QAAAb,QAAA,EACnCrB;MAAK;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CACR,eACDzC,OAAA,CAACP,GAAG;QAAC2C,SAAS,EAAC,MAAM;QAACQ,QAAQ,EAAE7B,YAAa;QAACiB,EAAE,EAAE;UAAEE,EAAE,EAAE;QAAE,CAAE;QAAAJ,QAAA,gBAC1D9B,OAAA,CAACV,SAAS;UACRuD,SAAS;UACTC,KAAK,EAAC,oBAAK;UACXC,MAAM,EAAC,QAAQ;UACfC,QAAQ;UACRC,KAAK,EAAE9C,QAAQ,CAACE,IAAK;UACrB6C,QAAQ,EAAGlC,CAAC,IAAKZ,WAAW,CAAC;YAAE,GAAGD,QAAQ;YAAEE,IAAI,EAAEW,CAAC,CAACmC,MAAM,CAACF;UAAM,CAAC;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eACFzC,OAAA,CAACV,SAAS;UACRuD,SAAS;UACTC,KAAK,EAAC,OAAO;UACbM,IAAI,EAAC,OAAO;UACZL,MAAM,EAAC,QAAQ;UACfC,QAAQ;UACRC,KAAK,EAAE9C,QAAQ,CAACG,KAAM;UACtB4C,QAAQ,EAAGlC,CAAC,IAAKZ,WAAW,CAAC;YAAE,GAAGD,QAAQ;YAAEG,KAAK,EAAEU,CAAC,CAACmC,MAAM,CAACF;UAAM,CAAC;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtE,CAAC,eACFzC,OAAA,CAACV,SAAS;UACRuD,SAAS;UACTC,KAAK,EAAC,sCAAQ;UACdM,IAAI,EAAC,UAAU;UACfL,MAAM,EAAC,QAAQ;UACfC,QAAQ;UACRC,KAAK,EAAE9C,QAAQ,CAACI,QAAS;UACzB2C,QAAQ,EAAGlC,CAAC,IAAKZ,WAAW,CAAC;YAAE,GAAGD,QAAQ;YAAEI,QAAQ,EAAES,CAAC,CAACmC,MAAM,CAACF;UAAM,CAAC;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC,eACFzC,OAAA,CAACV,SAAS;UACRuD,SAAS;UACTC,KAAK,EAAC,yGAAoB;UAC1BM,IAAI,EAAC,UAAU;UACfL,MAAM,EAAC,QAAQ;UACfC,QAAQ;UACRC,KAAK,EAAE9C,QAAQ,CAACK,eAAgB;UAChC0C,QAAQ,EAAGlC,CAAC,IAAKZ,WAAW,CAAC;YAAE,GAAGD,QAAQ;YAAEK,eAAe,EAAEQ,CAAC,CAACmC,MAAM,CAACF;UAAM,CAAC;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChF,CAAC,eACFzC,OAAA,CAACT,MAAM;UACL6D,IAAI,EAAC,QAAQ;UACbP,SAAS;UACTV,OAAO,EAAC,WAAW;UACnBH,EAAE,EAAE;YAAEE,EAAE,EAAE,CAAC;YAAES,EAAE,EAAE;UAAE,CAAE;UAAAb,QAAA,EACtB;QAED;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTzC,OAAA,CAACT,MAAM;UACLsD,SAAS;UACTV,OAAO,EAAC,MAAM;UACdkB,OAAO,EAAEA,CAAA,KAAMxC,QAAQ,CAAC,QAAQ,CAAE;UAAAiB,QAAA,EACnC;QAED;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEhB,CAAC;AAACvC,EAAA,CAhHID,QAAQ;EAAA,QAUKN,WAAW,EACXC,WAAW;AAAA;AAAA0D,EAAA,GAXxBrD,QAAQ;AAkHd,eAAeA,QAAQ;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}